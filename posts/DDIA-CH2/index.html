<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="DDIA - 데이터 모델과 질의 언어" /><meta property="og:locale" content="en" /><meta name="description" content="Table of Contents" /><meta property="og:description" content="Table of Contents" /><link rel="canonical" href="https://appchemist.github.io/posts/DDIA-CH2/" /><meta property="og:url" content="https://appchemist.github.io/posts/DDIA-CH2/" /><meta property="og:site_name" content="Appchemist" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-05-06T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="DDIA - 데이터 모델과 질의 언어" /><meta name="twitter:site" content="@appchemist" /><meta name="google-site-verification" content="ayKW7N1F1Lf9GFGDgfNENpw486FaeJYvFrGByBGAGEI" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-05-06T09:43:10+09:00","datePublished":"2022-05-06T00:00:00+09:00","description":"Table of Contents","headline":"DDIA - 데이터 모델과 질의 언어","mainEntityOfPage":{"@type":"WebPage","@id":"https://appchemist.github.io/posts/DDIA-CH2/"},"url":"https://appchemist.github.io/posts/DDIA-CH2/"}</script><title>DDIA - 데이터 모델과 질의 언어 | Appchemist</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Appchemist"><meta name="application-name" content="Appchemist"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://avatars.githubusercontent.com/u/1546031?v=4 " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Appchemist</a></div><div class="site-subtitle font-italic">Software Developer, Want to being a Developer likes alchemist.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/appchemist" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/appchemist" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['appchemist','hotmail.co.kr'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>DDIA - 데이터 모델과 질의 언어</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>DDIA - 데이터 모델과 질의 언어</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/appchemist">appchemist</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1651762800" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-05-06 </em> </span> <span> Updated <em class="timeago" data-ts="1651797790" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-05-06 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="7692 words"> <em>42 min</em> read</span></div></div></div><div class="post-content"><h1 id="table-of-contents">Table of Contents</h1><ol><li><a href="#org66c125e">들어가기</a><li><a href="#org125da5d">관계형 모델과 문서 모델</a><ol><li><a href="#orge9edb84">객체 관계형 불일치</a><li><a href="#orgff5d24d">다대일과 다대다 관계</a><li><a href="#org2037ae7">문서 데이터베이스는 역사를 반복하고 있나?</a><ol><li><a href="#orge21b5ec">네트워크 모델</a><li><a href="#org11169e0">관계형 모델</a><li><a href="#org441f5c2">문서 데이터베이스와의 비교</a></ol><li><a href="#org635f0fb">관계형 데이터베이스와 오늘날의 문서 데이터베이스</a><ol><li><a href="#org5859c17">어떤 데이터 모델이 애플리케이션 코드를 더 간단하게 할까?</a><li><a href="#org296e211">문서 모델에서의 스키마 유연성</a><li><a href="#org1fd2804">질의를 위한 데이터 지역성</a><li><a href="#org452d3dc">문서 데이터베이스와 관계형 데이터베이스의 통합</a></ol></ol><li><a href="#org7e285ea">데이터를 위한 질의 언어</a><ol><li><a href="#orgf1f7739">웹에서의 선언형 질의</a><li><a href="#orge8a63be">맵리듀스 질의</a></ol><li><a href="#org4ab2ccf">그래프형 데이터 모델</a><ol><li><a href="#org899bc6c">속성 그래프</a><li><a href="#orgec34214">사이퍼 질의 언어</a><li><a href="#org364137b">SQL의 그래프 질의</a><li><a href="#org2c2c069">트리플 저장소와 스파클</a><ol><li><a href="#org75661d5">스파클 질의 언어</a><li><a href="#org8f619e5">그래프 데이터베이스와 네트워크 모델의 비교</a></ol><li><a href="#orgbb5fedf">초석: 데이터로그</a></ol><li><a href="#org9c535c3">정리</a></ol><p><a id="org66c125e"></a></p><h1 id="들어가기">들어가기</h1><p>계층 모델, 관계형 모델, 문서 데이터베이스, 그래프 데이터베이스<br /> 데이터 모델은 소프트웨어 개발에서 중요한 부분이다.</p><ul><li>소프트웨어가 어떻게 작성될지<br /> 문제를 어떻게 생각해야 하는지에 대해 지대한 영향<li>각 계층은 명확한 데이터 모델을 제공해 하위 계층의 복잡성을 추상화<br /> 이런 추상화는 다른 그룹의 사람들이 효율적으로 함께 일할 수 있게끔 함<li>다양한 유형의 데이터 모델이 존재<br /> 각 데이터 모델은 사용 방법에 대한 가정을 나타냄<li>소프트웨어가 할 수 있는 일과 할 수 없는 일에 영향</ul><p>그래서 목적에 적합한 데이터 모델을 선택하는 일은 상당히 중요하다.</p><p>이제 각 데이터 모델과 질의 언어를 살펴보고 영역별 장단점을 알아본다.<br /> 이를 통해서 우리는 적합한 데이터 모델을 선택하는 한 척도를 살펴볼 수 있다.</p><p><a id="org125da5d"></a></p><h1 id="관계형-모델과-문서-모델">관계형 모델과 문서 모델</h1><p><a id="orge9edb84"></a></p><h2 id="객체-관계형-불일치"><span class="mr-2">객체 관계형 불일치</span><a href="#객체-관계형-불일치" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>임피던스 불일치<br /> 데이터를 관계형 테이블에 저장하려면 애플리케이션 코드와 데이터베이스 모델 객체 사이에 거추장스러운 전환 계층이 필요하다.<br /> 이렇듯 데이터베이스 모델과 프로그래밍 언어 모델과의 차이로 인해서 발생하는 문제들을 말하는 단어이다.</ul><p>예제로 나온 이력서를 표현하는 경우<br /> 사람별로 경력에 넣을 직업이 여러개이며 학력 기간과 연락처 정보도 다양하다.<br /> 이런 항목들은 일대다 관계이다.<br /> <strong>관계형 데이터베이스</strong> 는 이 관계를 다양한 방법으로 나타낼 수 있다.</p><ul><li>관계형 데이터베이스의 일반적인 방법으로 정규화 표현<li>구조화된 데이터타입과 XML 데이터 사용(SQL 최신 버전)<li>JSON, XML문서로 부호화해 텍스트 컬럼에 저장 -&gt; 애플리케이션에서 처리</ul><p>이력서 같은 데이터 구조는 모든 내용을 갖추고 있는 문서라서 JSON 표현에 매우 적합하다.<br /> <strong>문서 지향 데이터베이스</strong> 는 JSON 데이터 모델을 지원한다.<br /> JSON 모델이 임피던스 불일치를 줄인다고 생각하지만, <strong>데이터 부호화 형색으로서 JSON이 가진 문제도 있다.</strong><br /> JSON 표현은 관계형 데이터베이스의 다중 테이블 스키마보다 더 나은 지역성을 갖는다.</p><p><a id="orgff5d24d"></a></p><h2 id="다대일과-다대다-관계"><span class="mr-2">다대일과 다대다 관계</span><a href="#다대일과-다대다-관계" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>데이터베이스 모델에 실제 문자열이 아닌 ID로 주어지는 경우가 있다.<br /> ID로 주어진 경우 연관된 테이블에서 조인을 통해서 실제 데이터를 해결한다.</p><p><strong>ID나 텍스트 문자열의 저장 여부는 중복의 문제다.</strong></p><p><strong>쓰기 오버헤드와 불일치</strong><br /> <strong>ID를 사용하는 장점</strong> 은 ID 자체는 아무런 의미가 없기 때문에 변경할 필요가 없다.<br /> 의미를 가지는 경우라면 미래에 언젠가는 변경해야 할 수도 있다.</p><p>이런 중복을 제거하는 일이 데이터베이스의 정규화 이면에 놓인 핵심 개념이다.</p><p>중복된 데이터를 정규화하려면 <strong>다대일</strong> 관계가 필요<br /> 하지만 <strong>문서 모델</strong> 에서 <strong>다대일</strong> 관계는 적합하지 않다.</p><ul><li>관계형 데이터베이스<br /> 조인이 쉽기 때문에 ID로 다른 테이블의 로우를 참조하는 방식은 일반적<li>문서 데이터베이스<br /> 일대다 트리 구조를 위해 조인이 필요하지 않지만 <strong>조인에 대한 지원이 보통 약하다.</strong></ul><p>데이터베이스 자체에서 조인을 지원하지 않으면 데이터베이스에 대한 다중 질의를 만들어서 애플리케이션 코드에서 조인을 흉내내야 한다.<br /> 또한 애플리케이션 초기 버전이 조인 없는 문서 모델에 적합하더라도 애플리케이션에 기능을 추가하면서 데이터는 점차 상호 연결되는 경향이 있다.</p><p><a id="org2037ae7"></a></p><h2 id="문서-데이터베이스는-역사를-반복하고-있나"><span class="mr-2">문서 데이터베이스는 역사를 반복하고 있나?</span><a href="#문서-데이터베이스는-역사를-반복하고-있나" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>1970년대 IBM의 정보 관리 시스템(IMS)는 <strong>계층 모델</strong> 이라 부르는 상당히 간단한 데이터 모델을 사용했다.<br /> 계층 모델은 문서 데이터베이스에서 사용하는 JSON 모델과 놀랍게도 비슷하다.</p><p>문서 데이터베이스처럼 IMS도 일대다 관계에서 잘 동작하며, 다대다 관계 표현은 어려웠고 조인은 지원하지 않았다.</p><p>계층 모델의 한계를 해결하기 위해 다양한 해결책이 제안됐다.</p><ul><li>관계형 모델<li>네트워크 모델</ul><p><a id="orge21b5ec"></a></p><h3 id="네트워크-모델"><span class="mr-2">네트워크 모델</span><a href="#네트워크-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>코다실이라 불리는 위원회에서 표준화했다.<br /> 레코드 간 연결은 외래 키보다는 프로그래밍 언어의 포인터와 더 비슷하다.<br /> 레코드에 접근하는 유일한 방법은 <strong>접근 경로</strong> 로 불리며<br /> 최상위 레코드에서부터 연속된 연결 경로를 따르는 방법이다.</p><p>수동 접근 경로 선택은 1970년대에는 매우 제한된 하드웨어 성능을 가장 효율적으로 사용할 수 있었지만<br /> 데이터베이스 질의와 갱신을 위한 코드가 복잡하고 유연하지 못한 문제가 있었다.</p><p><a id="org11169e0"></a></p><h3 id="관계형-모델"><span class="mr-2">관계형 모델</span><a href="#관계형-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>단순히 튜플(로우)의 컬렉션이 전부다.<br /> 얽히고설킨 중첩 구조와 데이터를 찾을 때 따라가야 할 복잡한 접근 경로가 없다.</p><p>질의 최적화기(Query Optimizer)는 질의의 어느 부분을 어떤 순서로 실행할지를 결정하고 사용할 색인을 자동으로 결정한다.<br /> 이 선택이 실제로 <strong>접근 경로</strong> 다.</p><p>하지만 큰 차이점은 접근 경로를 애플리케이션 개발자가 아니라 <strong>질의 최적화기가 자동으로 만든다는 점</strong> 이다.<br /> 새로운 방식으로 데이터를 질의하고 싶은 경우, 새로운 색인을 선언하기만 하면된다.<br /> 관계형 모델은 애플리케이션에 새로운 기능을 추가하는 작업이 훨씬 쉽다.</p><p><a id="org441f5c2"></a></p><h3 id="문서-데이터베이스와의-비교"><span class="mr-2">문서 데이터베이스와의 비교</span><a href="#문서-데이터베이스와의-비교" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>계층 모델과 유사한 점</p><ul><li>문서 데이터베이스는 별도의 테이블이 아닌 상위 레코드 내에 중첩된 레코드를 저장</ul><p>계층 모델과 다른 점</p><ul><li>다대일과 다대다 관계를 표현할 때 관계형 데이터베이스와 문서형 데이터베이스는 근본적으로 다르지 않다.<br /> 둘 다 관련 항목은 고유한 식별자로 참조(관계형 모델 = 외래키, 문서 모델 = 문서 참조)</ul><p><a id="org635f0fb"></a></p><h2 id="관계형-데이터베이스와-오늘날의-문서-데이터베이스"><span class="mr-2">관계형 데이터베이스와 오늘날의 문서 데이터베이스</span><a href="#관계형-데이터베이스와-오늘날의-문서-데이터베이스" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>데이터 모델의 차이점에만 집중해서 보자.</p><ul><li>문서 데이터 모델을 선호하는 이유<ul><li>스키마 유연성<li>지역성에 기인한 더 나은 성능<li>일부 애플리케이션의 경우 애플리케이션에서 사용하는 데이터 구조와 더 가깝기 때문</ul><li>관계형 모델을 선호하는 이유<ul><li>조인, 다대일, 다대다 관계를 더 잘 지원함</ul></ul><p><a id="org5859c17"></a></p><h3 id="어떤-데이터-모델이-애플리케이션-코드를-더-간단하게-할까"><span class="mr-2">어떤 데이터 모델이 애플리케이션 코드를 더 간단하게 할까?</span><a href="#어떤-데이터-모델이-애플리케이션-코드를-더-간단하게-할까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><strong>문서 모델이 더 간단한 경우</strong></p><ul><li>애플리케이션의 데이터가 문서와 비슷한 구조일 경우<li>문서가 너무 깊게 중첩되지 않는 경우(일반적으로)<br /> 문서 모델은 문서 내 중첩 항목을 바로 참조할 수 없는 제한이 있다.<li>다대다 관계가 필요 없는 경우<br /> 미흡한 조인 지원은 애플리케이션에 따라 문제가 아닐 수도 있다.</ul><p>애플리케이션에서 다대다 관계를 사용한다면 문서모델은 매력이 떨어진다.<br /> 비정규화로 조인의 필요성 줄이기가 가능하지만 애플리케이션 코드에서 추가적인 작업이 필요해진다.<br /> 이런 경우 문서 모델을 사용해서 더 복잡한 애플리케이션 코드와 나쁜 성능으로 이어질 수 있다.</p><p>일반적으로 어떤 데이터 모델이 애플리케이션 코드를 더 간단하게 만드는지 말할 수 없다.<br /> 데이터 항목 간에 존재하는 관계 유형에 따라 다르다.<br /> 상호 연결이 많은 데이터의 경우 관계형 모델은 무난하며 그래프 모델은 매우 자연스럽다.</p><p><a id="org296e211"></a></p><h3 id="문서-모델에서의-스키마-유연성"><span class="mr-2">문서 모델에서의 스키마 유연성</span><a href="#문서-모델에서의-스키마-유연성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>보통 문서 데이터베이스와 관계형 데이터베이스에서 지원하는 JSON은 문서의 데이터에 어떤 스키마를 강요하지 않는다.<br /> 보통 관게형 데이터베이스에서 제공하는 XML은 선택적으로 스키마 유효성 검사를 포함할 수 있다.</p><p>문서 데이터베이스는 종종 스키마리스(schemaless)로 불리지만 이는 오해의 소지가 있다.<br /> 데이터를 읽는 코드는 보통 구조의 유형을 어느 정도 가정한다.<br /> 즉, 암묵적인 스키마가 있지만 데이터베이스는 이를 강요하지 않는다.</p><ul><li>쓰기 스키마(schema-on-write)<br /> 스키마는 명시적이고 데이터베이스는 쓰여진 모든 데이터가 스키마를 따르고 있음을 보장<li>읽기 스키마(schema-on-read)<br /> 암묵적이고 데이터를 읽을 때만 해석된다.</ul><p><img data-src="/assets/img/데이터_모델과_질의_언어/2022-05-01_16-39-57.jpeg" alt="img" data-proofer-ignore><br /> <strong>출처 : <a href="https://www.oreilly.com/content/hadoop-what-you-need-to-know">https://www.oreilly.com/content/hadoop-what-you-need-to-know</a></strong></p><p>이런 접근 방식 차이는 애플리케이션이 데이터 타입을 변경하고자 할 때 특히 뚜렷이 나타난다.</p><ul><li>문서 데이터베이스<br /> 애플리케이션에서 예전 문서를 읽은 경우 처리하는 코드만 있으면 된다.<li>“정적 타입”의 데이터베이스(RDB 등)<br /> 마이그레이션 작업 필요</ul><p>읽기 스키마 접근 방식은 컬렉션 안의 항목이 어떤 이유로 모두 동일한 구조가 아닐 때 유리하다.</p><p><a id="org1fd2804"></a></p><h3 id="질의를-위한-데이터-지역성"><span class="mr-2">질의를 위한 데이터 지역성</span><a href="#질의를-위한-데이터-지역성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>자주 전체 문서에 접근해야 할 때 <strong>저장소 지역성(storage locality)</strong> 을 활용하면 성능 이점이 있다.</p><ul><li>디스크 탐색이 적게 필요함</ul><p>지역성의 이점은 한 번에 해당 문서의 많은 부분을 필요로 하는 경우에만 적용된다.</p><ul><li>적은 부분만 접근해도 전체 문서를 적재해야 함.<li>문서를 갱신할 때도 보통 전체 문서를 재작성해야 함. (부호화된 문서의 크기를 바꾸지 않는 수정은 쉽게 수행)</ul><p>이런 이유로 일반적으로 문서를 아주 작게 유지하면서 문서의 크기가 증가하는 쓰기를 피하라고 권장한다.</p><p><strong>지역성을 위해 관련 데이터를 함께 그룹화하는 개념이 문서 모델에만 국한되지 않는다.</strong></p><ul><li>구글의 스패너 데이터베이스<li>오라클의 다중 테이블 색인 클러스터 테이블(multi-table index cluster table)<li>빅테이블 데이터모델의 컬럼 패밀리(column-family) 개념</ul><p><a id="org452d3dc"></a></p><h3 id="문서-데이터베이스와-관계형-데이터베이스의-통합"><span class="mr-2">문서 데이터베이스와 관계형 데이터베이스의 통합</span><a href="#문서-데이터베이스와-관계형-데이터베이스의-통합" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>두 데이터베이스는 시간이 지남에 따라 점점 더 비슷해지고 있다.</p><p><a id="org7e285ea"></a></p><h1 id="데이터를-위한-질의-언어">데이터를 위한 질의 언어</h1><p>SQL은 <strong>선언형</strong> 질의언어, IMS와 코다실은 <strong>명령형</strong> 코드로 질의 한다.</p><p>일반적으로 많이 사용하는 프로그래밍 언어가 <strong>명령형</strong> 언어다.</p><div class="language-js highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>    <span class="kd">function</span> <span class="nx">getSharks</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">sharks</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">animals</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">animals</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">family</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">Sharks</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">sharks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">animals</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">sharks</span><span class="p">;</span>
    <span class="p">}</span>
</pre></table></code></div></div><p>SQL은 관계 대수의 구조를 상당히 유사하게 따랐다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>    <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">animals</span> <span class="k">WHERE</span> <span class="n">family</span> <span class="o">=</span> <span class="s1">'Sharks'</span><span class="p">;</span>
</pre></table></code></div></div><p>SQL이나 관계 대수 같은 선언형 질의 언어는 목표를 달성하기 위한 방법이 아니라<br /> 알고자 하는 데이터의 패턴, 즉 결과가 충족해야 하는 조건과 데이터를 어떻게 변환할지를 지정하기만 하면 된다.<br /> 또한 질의의 다양한 부분을 <strong>질의 최적화기</strong> 가 처리한다.</p><p>선언형 언어는 간결하고 쉽게 작업할 수 있다.<br /> <strong>중요한 점</strong> 은 데이터베이스 엔진의 상세 구현이 숨겨져 있어,<br /> 질의를 변경하지 않고도 데이터베이스 시스템의 성능을 향상시킬 수 있다는 점이다.</p><p>선언형 언어인 SQL은 기능적으로 더 제한적이다.<br /> 이러한 사실은 <strong>데이터베이스가 최적화할 수 있는 여지를 더 많이 준다</strong> 는 의미다.</p><p>선언형 언어는 종종 <strong>병렬 실행에 적합</strong> 하다.<br /> 결과를 결정하기 위한 알고리즘을 지정하는 게 아니라 결과의 패턴만 지정하기 때문에 병렬 실행으로 더 빨라질 가능성이 크다.</p><p><a id="orgf1f7739"></a></p><h2 id="웹에서의-선언형-질의"><span class="mr-2">웹에서의 선언형 질의</span><a href="#웹에서의-선언형-질의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>선언형 질의 언어의 장점은 데이터베이스에만 국한되지 않는다.</p><p>CSS와 XSL이 문서의 스타일을 지정하기 위한 선언형 언어이다.<br /> 스타일을 적용하려는 엘리멘트의 패턴을 선언하면 된다.</p><p>명령형인 자바스크립트에서 DOM API를 사용했을 때 보다 코드량이 상당히 줄어들 뿐만 아니라 여러 가지 문제들을 해결해준다.</p><p><a id="orge8a63be"></a></p><h2 id="맵리듀스-질의"><span class="mr-2">맵리듀스 질의</span><a href="#맵리듀스-질의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>많은 컴퓨터에서 대량의 데이터를 처리하기 위한 프로그래밍 모델이다.<br /> 많은 문서를 대상으로 읽기 전용 질의를 수행할 때 사용한다.</p><p>선언형 질의 언어로 완전한 명령형 질의 API도 아닌 그 중간 정도에 있다.<br /> 질의 로직은 처리 프레임워크가 반복적으로 호출하는 조각 코드로 표현한다.<br /> 여러 프로그래밍 언어에 있는 map과 reduce 함수를 기반으로 한다.</p><p>SQL과 비교해보자면 아래와 같다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>    <span class="k">SELECT</span> <span class="n">date_trunc</span><span class="p">(</span><span class="s1">'month'</span><span class="p">,</span> <span class="n">observation_timestamp</span><span class="p">)</span> <span class="k">AS</span> <span class="n">observation_month</span><span class="p">,</span>
         <span class="k">sum</span><span class="p">(</span><span class="n">num_animals</span><span class="p">)</span> <span class="k">AS</span> <span class="n">total_animals</span>
    <span class="k">FROM</span> <span class="n">observations</span>
    <span class="k">WHERE</span> <span class="n">family</span> <span class="o">=</span> <span class="s1">'Sharks'</span>
    <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">observation_month</span><span class="p">;</span>
</pre></table></code></div></div><p>위의 SQL을 몽고DB의 맵리듀스 기능을 이용해 다음과 같이 표현할 수 있다.</p><div class="language-js highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>    <span class="nx">db</span><span class="p">.</span><span class="nx">observations</span><span class="p">.</span><span class="nx">mapReduce</span><span class="p">(</span>
      <span class="kd">function</span> <span class="nx">map</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">observationTimestamp</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">observationTimestamp</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">emit</span><span class="p">(</span><span class="nx">year</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">-</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">month</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">numAnimals</span><span class="p">);</span>
      <span class="p">},</span>
      <span class="nx">funcation</span> <span class="nx">reduce</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">values</span><span class="p">);</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">query</span><span class="p">:</span> <span class="p">{</span> <span class="na">family</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sharks</span><span class="dl">"</span> <span class="p">},</span>
        <span class="na">out</span><span class="p">:</span> <span class="dl">"</span><span class="s2">monthlySharkReport</span><span class="dl">"</span>
      <span class="p">}</span>
    <span class="p">);</span>
</pre></table></code></div></div><p>몽고DB의 map과 reduce 함수는 수행할 때 약간의 제약 사항이 있다.</p><ol><li>두 함수는 <strong>순수(pure) 함수</strong><br /> 즉, 입력으로 전달된 데이터만 사용<li>추가적인 데이터베이스 질의를 수행할 수 없다.<li>부수 효과가 없어야 한다.</ol><p>이런 제약 사항 때문에 데이터베이스가 임의 순서로 어디서나 이 함수를 실행할 수 있고 장애가 발생해도 함수를 재실행할 수 있다.</p><p>맵리듀스는</p><ul><li><strong>클러스터 환경에서 분산 실행을 위한 저수준 프로그래밍 모델</strong><br /> 하지만 맵리듀스를 사용하지 않은 분산 SQL 구현도 많다.<br /> SQL이 단일 장비에서 수행해야 하는 제한이 없으며 맵리듀스가 분산 질의 실행에 대한 독점권을 가진 것도 아니다.<li>질의 중간에 자바스크립트 코드를 사용할 수 있다는 점은 고급 질의가 가능한 훌륭한 기능<br /> 하지만 일부 SQL 데이터베이스도 자바스크립트 함수로 확장될 수 있다.</ul><p>몽고DB의 <strong>집계 파이프라인(aggregation pipeline)</strong> 선언형 질의 언어 지원 이유</p><ul><li><strong>맵리듀스의 사용성 문제</strong> 는 map과 reduce 함수를 신중하게 작성해야 한다<br /> 이는 종종 하나의 질의를 작성하는 것보다 어렵다.<li>선언형 질의 언어는 질의 최적화기가 질의 성능을 높일 수 있는 기회를 제공</ul><p>집계 파이프라인 언어</p><ul><li>표현 측면에서 SQL의 부분 집합과 유사<li>JSON 기반 구문을 사용(SQL의 영어 문장 스타일 구문과 달리)</ul><p><a id="org4ab2ccf"></a></p><h1 id="그래프형-데이터-모델">그래프형 데이터 모델</h1><p>다대다 관계가 매우 일반적이라면,<br /> 관계형 모델이 단순한 다대다 관계를 다룰 수 있다.<br /> 데이터 간 연결이 복잡해지면 그래프로 데이터를 모델링하는 편이 더 자연스럽다.</p><p>그래프는 두 유형의 객체로 이뤄진다.</p><ul><li>정점(vertex) = 노드나 엔티티라고도 한다.<li>간선(edge) = 관계나 호(arc)라고도 한다.</ul><p>일반적으로 그래프 상에서 동작하는 알고리즘은 “자동차 내비게이션 시스템”, “페이지랭크”가 있다.</p><p>그래프 모델</p><ul><li>속성 그래프 모델 : Neo4j, Titan InfiniteGraph<li>트리플 저장소 모델 : Datomic, Allegrograph</ul><p>그래프용 질의 언어</p><ul><li>선언형 질의 언어 : Cypher, SPARQL, Datalog<li>명령형 질의 언어 : Gremlin</ul><p>그래프 처리 프레임워크 Pregel가 있다.</p><p>지금부터 속성 그래프 모델, 트리플 저장소 모델, 선언형 질의 언어들에 대해서 살펴본다.<br /> 아래 그림은 설명에서 사용하는 데이터 예제</p><p><img data-src="/assets/img/데이터_모델과_질의_언어/Example_graph-structured_data_2022-05-01_20-36-08.jpg" alt="img" data-proofer-ignore><br /> <strong>그림 1</strong><br /> <strong>출처 : <a href="https://oracle-patches.com/en/databases/graph-like-data-models-full-description-with-examples">https://oracle-patches.com/en/databases/graph-like-data-models-full-description-with-examples</a></strong></p><p><a id="org899bc6c"></a></p><h2 id="속성-그래프"><span class="mr-2">속성 그래프</span><a href="#속성-그래프" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>정점을 구성하는 요소</p><ul><li>고유한 식별자<li>유출(outgoing) 간선 집합<li>유입(incoming) 간선 집합<li>속성 컬렉션(키-값 쌍)</ul><p>간선을 구성하는 요소</p><ul><li>고유한 식별자<li>간선이 시작하는 정점(꼬리 정점)<li>간선이 끝나는 정점(머리 정점)<li>두 정점 간 관계 유형을 설명하는 레이블<li>속성 컬렉션(키-값 쌍)</ul><p>두 개의 관계형 테이블로 구성된 그래프 저장소를 생각해보면 아래와 같다.</p><p><strong>예제 1</strong> 관계형 스키마를 사용해 속성 그래프 표현</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>    <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">vertices</span> <span class="p">(</span>
        <span class="n">vertex_id</span> <span class="nb">integer</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
        <span class="n">properties</span> <span class="n">json</span>
    <span class="p">);</span>
    
    <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">edges</span> <span class="p">(</span>
        <span class="n">edge_id</span> <span class="nb">integer</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
        <span class="n">tail_vertex</span> <span class="nb">integer</span> <span class="k">REFERENCES</span> <span class="n">vertices</span> <span class="p">(</span><span class="n">vertex_id</span><span class="p">),</span>
        <span class="n">head_vertex</span> <span class="nb">integer</span> <span class="k">REFERENCES</span> <span class="n">vertices</span> <span class="p">(</span><span class="n">vertex_id</span><span class="p">),</span>
        <span class="n">label</span> <span class="nb">text</span><span class="p">,</span> 
        <span class="n">properties</span> <span class="n">json</span> 
    <span class="p">);</span>
    
    <span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">edges_tails</span> <span class="k">ON</span> <span class="n">edges</span> <span class="p">(</span><span class="n">tail_vertex</span><span class="p">);</span>
    <span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">edges_heads</span> <span class="k">ON</span> <span class="n">edges</span> <span class="p">(</span><span class="n">head_vertex</span><span class="p">);</span>
</pre></table></code></div></div><p>이 모델의 중요한 점</p><ol><li>정점은 다른 정점과 간선으로 연결<br /> 특정 유형과 관련 여부를 제한하는 스키마가 없다.<li>정점이 주어지면 정점의 유입과 유출 간선을 효율적으로 찾고 그래프를 순회<li>다른 유형의 관계는 서로 다른 label을 사용<br /> 단일 그래프에 다른 유형의 정보를 저장하면서 데이터 모델을 깔끔하게 유지</ol><p>그림 1과 같이 위의 기능을 통해 그래프는 데이터 모델링을 위한 많은 유연성을 제공한다.<br /> 또한 그래프는 발전성이 좋아서 데이터 구조 변경을 수용하게끔 그래프를 쉽게 확장할 수 있다.</p><p><a id="orgec34214"></a></p><h2 id="사이퍼-질의-언어"><span class="mr-2">사이퍼 질의 언어</span><a href="#사이퍼-질의-언어" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>속성 그래프를 위한 선언형 질의 언어</p><p><strong>그림 1을 데이터의 일부를 사이퍼 질의로 표현</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>CREATE  
    (NAmerica:Location {name:'North America', type:'continent'}),
    (USA:Location {name:'United States', type:'country' }),
    (Idaho:Location {name:'Idaho', type:'state' }),
    (Lucy:Person {name:'Lucy' }),
    (Idaho) -[:WITHIN]-&gt; (USA) -[:WITHIN]-&gt; (NAmerica),
    (Lucy) -[:BORN_IN]-&gt; (Idaho)
</pre></table></code></div></div><p><strong>예제 2</strong> 미국에서 유럽으로 이민 온 사람을 찾는 사이퍼 질의</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>MATCH  
    (person) -[:BORN_IN]-&gt; () -[:WITHIN*0..]-&gt; (us:Location {name:'United States'}),
    (person) -[:LIVES_IN]-&gt; () -[:WITHIN*0..]-&gt; (eu:Location {name:'Europe'})
RETURN person.name
</pre></table></code></div></div><p>위의 질의는 다음과 같은 의미다.</p><ol><li>person은 어떤 정점을 향하는 BORN<sub>IN</sub> 유출 간선을 가진다.<br /> 이 정점에서 name 속성이 “United States”인 Location 유형의 정점에 도달할 때까지 일련의 WITHIN 유출 간선을 따라간다.<li>같은 person 정점은 LIVES<sub>IN</sub> 유출 간선도 가진다.<br /> 이 간선과 WITHIN 유출 간선을 따라가면 결국 name 속성이 “Europe”인 Location 유형의 정점에 도달하게 된다.</ol><p>질의를 실행하는 데는 여러 가지 방법이 있다.(책 참고)<br /> 하지만 선언형 질의 언어는 질의 최적화기가 효율적이라고 예측한 전략을 자동으로 선택하므로 보통 수행에 대해 자세히 지정할 필요가 없다.</p><p><a id="org364137b"></a></p><h2 id="sql의-그래프-질의"><span class="mr-2">SQL의 그래프 질의</span><a href="#sql의-그래프-질의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>예제 1에서 관계형 데이터베이스에서 그래프 데이터를 표현했다.<br /> 그렇다면 그래프 데이터를 관계형 구조로 넣어도 SQL을 사용해서 질의할 수 있을까?</p><p>가능은 하지만 어렵다.<br /> 관계형 데이터베이스에서는 보통 질의에 필요한 조인을 미리 알고 있지만<br /> 그래프 질의에서는 정점을 찾기 위해 가변적인 여러 간선을 순회해야 한다.<br /> 즉, <strong>조인 수를 고정할 수 없다.</strong></p><p>문제는 위의 사이퍼 질의에서 () - [:WITHIN*0..]-&gt; () 문에 있다.<br /> 이는 0회 이상 WITHIN 간선을 따라가라는 의미다. &lt;– 가변적인 여러 간선을 순회</p><p>SQL:1999 이후로 가변 순회 경로에 대한 질의 개념은 재귀 공통 테이블 식(recursive common table expression)(WITH RECURSIVE 문)을 사용해서 표현할 수 있다.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre>    <span class="k">WITH</span> <span class="k">RECURSIVE</span> 
    
     <span class="c1">-- in_usa는 미국 내 모든 지역의 정점 ID 집합이다.</span>
     <span class="n">in_usa</span><span class="p">(</span><span class="n">vertex_id</span><span class="p">)</span> <span class="k">AS</span> <span class="p">(</span>
        <span class="k">SELECT</span> <span class="n">vertexid</span> <span class="k">FROM</span> <span class="n">vertices</span> <span class="k">WHERE</span> <span class="n">properties</span><span class="o">-&gt;&gt;</span><span class="s1">'name'</span> <span class="o">=</span> <span class="s1">'United States'</span>
            <span class="k">UNION</span> 
        <span class="k">SELECT</span> <span class="n">edges</span><span class="p">.</span><span class="n">tail_vertex</span> <span class="k">FROM</span> <span class="n">edges</span>
            <span class="k">JOIN</span> <span class="n">inusa</span> <span class="k">ON</span> <span class="n">edges</span><span class="p">.</span><span class="n">head_vertex</span> <span class="o">=</span> <span class="n">in_usa</span><span class="p">.</span><span class="n">vertex_id</span>
            <span class="k">WHERE</span> <span class="n">edges</span><span class="p">.</span><span class="n">label</span> <span class="o">=</span> <span class="s1">'within'</span> 
     <span class="p">),</span>
    
     <span class="c1">-- in_europe은 유럽 내 모든 지역의 정점 ID 집합이다.</span>
     <span class="n">in_europe</span><span class="p">(</span><span class="n">vertex_id</span><span class="p">)</span> <span class="k">AS</span> <span class="p">(</span>
        <span class="k">SELECT</span> <span class="n">vertexid</span> <span class="k">FROM</span> <span class="n">vertices</span> <span class="k">WHERE</span> <span class="n">properties</span><span class="o">-&gt;&gt;</span><span class="s1">'name'</span> <span class="o">=</span> <span class="s1">'Europe'</span>
            <span class="k">UNION</span> 
        <span class="k">SELECT</span> <span class="n">edges</span><span class="p">.</span><span class="n">tail_vertex</span> <span class="k">FROM</span> <span class="n">edges</span>
            <span class="k">JOIN</span> <span class="n">ineurope</span> <span class="k">ON</span> <span class="n">edges</span><span class="p">.</span><span class="n">head_vertex</span> <span class="o">=</span> <span class="n">in_europe</span><span class="p">.</span><span class="n">vertex_id</span>
            <span class="k">WHERE</span> <span class="n">edges</span><span class="p">.</span><span class="n">label</span> <span class="o">=</span> <span class="s1">'within'</span> 
     <span class="p">),</span> 
    
     <span class="c1">-- born_in_usa는 미국에서 태어난 모든 사람의 정점 ID 집합이다.</span>
     <span class="n">born_in_usa</span><span class="p">(</span><span class="n">vertex_id</span><span class="p">)</span> <span class="k">AS</span> <span class="p">(</span>
        <span class="k">SELECT</span> <span class="n">edges</span><span class="p">.</span><span class="n">tail_vertex</span> <span class="k">FROM</span> <span class="n">edges</span>
            <span class="k">JOIN</span> <span class="n">inusa</span> <span class="k">ON</span> <span class="n">edges</span><span class="p">.</span><span class="n">head_vertex</span> <span class="o">=</span> <span class="n">in_usa</span><span class="p">.</span><span class="n">vertex_id</span>
            <span class="k">WHERE</span> <span class="n">edges</span><span class="p">.</span><span class="n">label</span> <span class="o">=</span> <span class="s1">'born_in'</span> 
     <span class="p">),</span>
    
     <span class="c1">-- lives_in_europe은 유럽에서 태어난 모든 사람의 정점 ID 집합이다.</span>
     <span class="n">lives_in_europe</span><span class="p">(</span><span class="n">vertex_id</span><span class="p">)</span> <span class="k">AS</span> <span class="p">(</span>
        <span class="k">SELECT</span> <span class="n">edges</span><span class="p">.</span><span class="n">tail_vertex</span> <span class="k">FROM</span> <span class="n">edges</span>
            <span class="k">JOIN</span> <span class="n">ineurope</span> <span class="k">ON</span> <span class="n">edges</span><span class="p">.</span><span class="n">head_vertex</span> <span class="o">=</span> <span class="n">in_europe</span><span class="p">.</span><span class="n">vertex_id</span>
            <span class="k">WHERE</span> <span class="n">edges</span><span class="p">.</span><span class="n">label</span> <span class="o">=</span> <span class="s1">'lives_in'</span> 
     <span class="p">)</span>
    
     <span class="k">SELECT</span> <span class="n">vertices</span><span class="p">.</span><span class="n">properties</span><span class="o">-&gt;&gt;</span><span class="s1">'name'</span>
     <span class="k">FROM</span> <span class="n">vertices</span>
        <span class="c1">-- 미국에서 태어나 유럽에서 자란 사람을 찾아 조인</span>
        <span class="k">JOIN</span> <span class="n">bornin_usa</span> <span class="k">ON</span> <span class="n">vertices</span><span class="p">.</span><span class="n">vertex_id</span> <span class="o">=</span> <span class="n">born_in_usa</span><span class="p">.</span><span class="n">vertex_id</span>
        <span class="k">JOIN</span> <span class="n">livesin_europe</span> <span class="k">ON</span> <span class="n">vertices</span><span class="p">.</span><span class="n">vertex_id</span> <span class="o">=</span> <span class="n">lives_in_europe</span><span class="p">.</span><span class="n">vertex_id</span><span class="p">;</span>
</pre></table></code></div></div><p>사이퍼 질의 대비 SQL은 매우 길다.<br /> 이는 다양한 데이터 모델이 서로 다른 사용 사례를 지원하기 위해 설계됐다는 것을 보여준다.<br /> 따라서 <strong>애플리케이션에 적합한 데이터 모델을 선택하는 작업은 중요</strong> 하다.</p><p><a id="org2c2c069"></a></p><h2 id="트리플-저장소와-스파클"><span class="mr-2">트리플 저장소와 스파클</span><a href="#트리플-저장소와-스파클" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>속성 그래프 모델과 거의 동일하다.<br /> 같은 개념을 다른 용어를 사용한다.</p><p>모든 정보를 (주어(subject), 서술어(predicate), 목적어(object)) 처럼 매우 간단한 세 부분 구문 형식으로 저장한다.</p><ul><li>트리플의 주어는 그래프의 정점과 동등하다.<li>목적어는 다음과 같다.<ol><li>문자열이나 숫자 같은 원시 데이터 값<br /> 트리플의 서술어와 목적어는 주어 정점의 속성의 키, 값과 동등<li>그래프의 다른 정점<br /> 서술어는 그래프의 간선<br /> 주어는 꼬리 정점<br /> 목적어는 머리 정점</ol></ul><p><strong>그림1의 일부를 Turtle 트리플로 표현</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>@prefix : &lt;urn:example:&gt;.
_:lucy	a	:Person.
_:lucy	:name	"Lucy".
_:lucy	:bornIn	_:idaho.
_:idaho	a	:Location.
_:idaho	:name	"Idaho".
_:idaho	:type	"state".
_:idaho	:within	:usa.
_:usa	a	:Location.
_:usa	:name	"United States".
_:usa	:type	"country".
_:usa	:within	:namerica.
_:namerica	a	:Location.
_:namerica	:name	"North America".
_:namerica	:type	"continent".
</pre></table></code></div></div><ul><li>_:주어 서술어 목적어 형식<li>정점은 _:someName 형식<li>목적어가 원시 데이터인 경우<br /> _:lucy :name “Lucy”<br /> :name은 속성 키, “Lucy”는 속성 값<li>목적어가 다른 정점인 경우<br /> _:idaho :within :usa<br /> :within은 간선</ul><p><a id="org75661d5"></a></p><h3 id="스파클-질의-언어"><span class="mr-2">스파클 질의 언어</span><a href="#스파클-질의-언어" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>RDF 데이터 모델을 사용한 트리플 저장소 질의 언어</p><p><strong>예제2와 동일한 질의를 스파클로 표현</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>PREFIX : &lt;urn:example:&gt;

SELECT ?personName WHERE {
  ?person :name ?personName.
  ?person :bornIn / :within* / :name "United States".
  ?person :livesIn / :within* / :name "Europe".
}
</pre></table></code></div></div><p>스파클에서 변수는 물음표로 시작<br /> 사이퍼와 비교하면 아래와 같이 두 표현식이 동등</p><ul><li>(person) -[:BORN<sub>IN</sub>]-&gt; () -[:WITHIN*0..]-&gt; (location) #사이퍼<br /> ?person :bornIn / :within* ?location. #스파클<li>(usa {name:’United States’}) #사이퍼<br /> ?usa :name “United States”. #스파클</ul><p><a id="org8f619e5"></a></p><h3 id="그래프-데이터베이스와-네트워크-모델의-비교"><span class="mr-2">그래프 데이터베이스와 네트워크 모델의 비교</span><a href="#그래프-데이터베이스와-네트워크-모델의-비교" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>코다실의 네트워크 모델과 그래프 데이터베이스는 몇 가지 중요한 차이점이 있다.</p><ul><li>코다실은 다른 레코드 타입과 중첩 가능한 레코드 타입을 지정하는 스키마가 존재<br /> 그래프 데이터베이스는 제약 없음<li>코다실에서 특정 레코드에 도달하는 유일한 방법은 접근 경로를 탐색하는 방식<br /> 그래프 데이터베이스는 고유 ID를 가지고 임의 정점을 직접 참조 OR 색인을 사용해 빠르게 검색<li>코다실에서 레코드의 하위 항목은 정렬된 집합<br /> 그래프 데이터베이스에서 정점과 간선은 정렬하지 않음, 질의 결과를 정렬할 수 있음<li>코다실은 모든 질의는 명령형<br /> 그래프 데이터베이스는 명령형과 선언형 질의 모두 제공</ul><p><a id="orgbb5fedf"></a></p><h2 id="초석-데이터로그"><span class="mr-2">초석: 데이터로그</span><a href="#초석-데이터로그" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>오래된 언어이지만 <strong>이후 질의 언어의 기반이 되는 초석을 제공</strong></p><p>데이터로그의 데이터 모델은 트리플 저장소 모델과 유사<br /> 하지만 조금 더 일반화<br /> 서술어(주어, 목적어) 형식</p><p><strong>그림1의 일부데이터를 데이터로그 fact로 표현</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>name(namerica, 'North America').
type(namerica, continent).

name(usa, 'United States').
type(usa, country).
within(usa, namerica).

name(idaho, 'Idaho').
type(idaho, state).
within(idaho, usa).

name(lucy, 'Lucy').
born_in(lucy, idaho)
</pre></table></code></div></div><p><strong>예제2와 동일한 질의를 데이터로그로 표현</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>within_recursive(Location, Name) :- name(Location, Name). /* Rule 1 */

within_recursive(Location, Name) :- within(Location, Via), /* Rule 2 */
                                 within_recursive(Via, Name).

migrated(Name, BornIn, LivingIn) :- name(Person, Name), /* Rule 3 */
                                 born_in(Person, BornLoc),
                                 within_recursive(BornLoc, BornIn),
                                 lives_in(Person, LivingLoc),
                                 within_recursive(LivingLoc, LivingIn).

?- migrated(Who, 'United States', 'Europe').
/* Who = 'Lucy'. */
</pre></table></code></div></div><p>사이퍼와 스파클은 SELECT로 바로 질의하는 반면<br /> 데이터로그는 단계를 나눠 데이터베이스에 전달하는 규칙을 정의한다.</p><ul><li>:- 연산자의 오른편에 있는 모든 서술어를 찾으면 규칙이 적용<li>:- 연산자의 왼편은 데이터베이스에 추가됨(변수는 대응된 값으로 대체)</ul><p><img data-src="/assets/img/데이터_모델과_질의_언어/2022-05-03_21-06-34_datalog rule.png" alt="img" data-proofer-ignore><br /> <strong>Rule 적용 과정</strong></p><p>이제 rule 3을 적용해서 최종적으로 남은 사람이 결과가 된다</p><p>데이터로그 접근 방식은 이전에 설명한 질의 언어와는 다른 사고가 필요<br /> 하지만 규칙을 결합하거나 재사용할 수 있기 때문에 매우 강력한 접근 방식이다.<br /> 데이터가 복잡하면 더 효과적으로 대처할 수 있다.</p><p><a id="org9c535c3"></a></p><h1 id="정리">정리</h1><p>역사적으로 데이터를 하나의 큰 트리(계층 모델)로 표현하려고 노력했지만 다대다 관계를 표현하기에는 트리 구조가 적절하지 않았다.<br /> 이 문제를 해결하기 위해 *관계형 모델*이 고안됐다.</p><p>최근 관계형 모델에도 적합하지 않은 애플리케이션이 있다는 사실을 발견 했고 나온 것이 NoSQL이다.<br /> NoSQL은 다음 두 가지 주요 갈래가 있다.</p><ul><li>문서 데이터베이스<li>그래프 데이터베이스</ul><p>한 모델은 다른 모델로 흉내 낼 수 있지만 위에서 확인 했다 싶이 사용이 어렵거나 애플리케이션에서 해결을 해야 하는 등 문제점이 있다.<br /> 이것이 바로 단일 만능 솔루션이 아닌 각기 목적에 맞는 다양한 시스템을 보유해야 하는 이유다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/study/'>Study</a>, <a href='/categories/book/'>Book</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/data/" class="post-tag no-text-decoration" >Data</a> <a href="/tags/applicationn/" class="post-tag no-text-decoration" >Applicationn</a> <a href="/tags/system/" class="post-tag no-text-decoration" >System</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=DDIA - 데이터 모델과 질의 언어 - Appchemist&amp;url=https://appchemist.github.io/posts/DDIA-CH2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=DDIA - 데이터 모델과 질의 언어 - Appchemist&amp;u=https://appchemist.github.io/posts/DDIA-CH2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://appchemist.github.io/posts/DDIA-CH2/&amp;text=DDIA - 데이터 모델과 질의 언어 - Appchemist" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/DDIA-CH6/">DDIA - 파티셔닝</a><li><a href="/posts/DDIA-CH4/">DDIA - 부호화와_발전</a><li><a href="/posts/clean_architecture_ch20/">클린 아키텍처 - 업무 규칙</a><li><a href="/posts/clean_architecture_ch17/">클린 아키텍처 - 경계 선 긋기</a><li><a href="/posts/DDIA-CH1/">DDIA - 신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/clean-architecture/">clean architecture</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/orm/">ORM</a> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/applicationn/">Applicationn</a> <a class="post-tag" href="/tags/data/">Data</a> <a class="post-tag" href="/tags/system/">System</a> <a class="post-tag" href="/tags/efficient-c/">Efficient C++</a> <a class="post-tag" href="/tags/performance/">Performance</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/DDIA-CH1/"><div class="card-body"> <em class="timeago small" data-ts="1651158000" > 2022-04-29 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>DDIA - 신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션</h3><div class="text-muted small"><p> Table of Contents 데이터 시스템에 대한 생각 대부분의 소프트웨어 시스템에서 중요하게 여기는 세 가지 관심사 신뢰성 하드웨어 결함 소프트웨어 오류 인적 오류 확장성 부...</p></div></div></a></div><div class="card"> <a href="/posts/DDIA-CH3/"><div class="card-body"> <em class="timeago small" data-ts="1652367600" > 2022-05-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>DDIA - 저장소와 검색</h3><div class="text-muted small"><p> Table of Contents 들어가기 데이터베이스를 강력하게 만드는 데이터 구조 해시 색인 SS테이블과 LSM 트리 SS테이블 생성과 유지 성능 최적화 모아보기 B 트리 ...</p></div></div></a></div><div class="card"> <a href="/posts/DDIA-CH4/"><div class="card-body"> <em class="timeago small" data-ts="1652972400" > 2022-05-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>DDIA - 부호화와_발전</h3><div class="text-muted small"><p> Table of Contents 데이터 부호화 형식 언어별 형식 JSON과 XML 그리고 이진 변경 이진 부호화 스리프트와 프로토콜 버퍼 스리프트 프로토콜 버퍼 필드 태그와...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/redis-transaction/" class="btn btn-outline-primary" prompt="Older"><p>Redis - transaction</p></a> <a href="/posts/DDIA-CH3/" class="btn btn-outline-primary" prompt="Newer"><p>DDIA - 저장소와 검색</p></a></div><script src="https://utteranc.es/client.js" repo="appchemist/appchemist.github.io" issue-term="url" crossorigin="anonymous" async> </script> <script type="text/javascript"> $(function() { const origin = "https://utteranc.es"; const iframe = "iframe.utterances-frame"; const lightTheme = "github-light"; const darkTheme = "github-dark"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } addEventListener("message", (event) => { let theme; /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */ if (event.origin === origin) { /* page initial */ theme = initTheme; } else if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); } else { return; } const message = { type: "set-theme", theme: theme }; const utterances = document.querySelector(iframe).contentWindow; utterances.postMessage(message, origin); }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/appchemist">appchemist</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/clean-architecture/">clean architecture</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/orm/">ORM</a> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/applicationn/">Applicationn</a> <a class="post-tag" href="/tags/data/">Data</a> <a class="post-tag" href="/tags/system/">System</a> <a class="post-tag" href="/tags/efficient-c/">Efficient C++</a> <a class="post-tag" href="/tags/performance/">Performance</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-KEPDM82EY9"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-KEPDM82EY9'); }); </script>
