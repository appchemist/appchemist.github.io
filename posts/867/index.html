<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="EFFICIENT C++_생성자와 소멸자" /><meta property="og:locale" content="en" /><meta name="description" content="상속 이상적으로는 생성자와 소멸자는 오버헤드를 가지지 않아야 한다. 생성자와 소멸자는 오직 필수적인 초기화와 정리 작업을 수행하며, 일반적인 컴파일러는 이것들을 인라인 함수로 만들것이다." /><meta property="og:description" content="상속 이상적으로는 생성자와 소멸자는 오버헤드를 가지지 않아야 한다. 생성자와 소멸자는 오직 필수적인 초기화와 정리 작업을 수행하며, 일반적인 컴파일러는 이것들을 인라인 함수로 만들것이다." /><link rel="canonical" href="https://appchemist.github.io/posts/867/" /><meta property="og:url" content="https://appchemist.github.io/posts/867/" /><meta property="og:site_name" content="Appchemist" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2016-07-12T09:56:34+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="EFFICIENT C++_생성자와 소멸자" /><meta name="twitter:site" content="@appchemist" /><meta name="google-site-verification" content="ayKW7N1F1Lf9GFGDgfNENpw486FaeJYvFrGByBGAGEI" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-04-26T23:18:28+09:00","datePublished":"2016-07-12T09:56:34+09:00","description":"상속 이상적으로는 생성자와 소멸자는 오버헤드를 가지지 않아야 한다. 생성자와 소멸자는 오직 필수적인 초기화와 정리 작업을 수행하며, 일반적인 컴파일러는 이것들을 인라인 함수로 만들것이다.","headline":"EFFICIENT C++_생성자와 소멸자","mainEntityOfPage":{"@type":"WebPage","@id":"https://appchemist.github.io/posts/867/"},"url":"https://appchemist.github.io/posts/867/"}</script><title>EFFICIENT C++_생성자와 소멸자 | Appchemist</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Appchemist"><meta name="application-name" content="Appchemist"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://avatars.githubusercontent.com/u/1546031?v=4 " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Appchemist</a></div><div class="site-subtitle font-italic">Software Developer, Want to being a Developer likes alchemist.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/appchemist" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/appchemist" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['appchemist','hotmail.co.kr'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>EFFICIENT C++_생성자와 소멸자</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>EFFICIENT C++_생성자와 소멸자</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/appchemist">appchemist</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1468284994" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2016-07-12 </em> </span> <span> Updated <em class="timeago" data-ts="1650982708" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-26 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2463 words"> <em>13 min</em> read</span></div></div></div><div class="post-content"><h3 id="상속"><span class="mr-2">상속</span><a href="#상속" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>이상적으로는 생성자와 소멸자는 오버헤드를 가지지 않아야 한다. 생성자와 소멸자는 오직 필수적인 초기화와 정리 작업을 수행하며, 일반적인 컴파일러는 이것들을 인라인 함수로 만들것이다.</p><p>하지만, 상속과 합성 구현은 가끔 혹은 절대 사용되지 않는 연산을 수행하기도 한다. 상속과 합성 구현은 코드의 재사용을 위한 기술이다. 즉, 코드의 재사용과 성능과의 줄다리기 문제이다.</p><p>코드의 재사용은 특정 상황에서 실제로 필요하지 않은 연산을 수행한다. 불필요한 연산을 수행하는 함수는 성능에 영향을 주게 된다. 상속 기반 디자인과 생성자/소멸자의 부하 사이의 연관성을 살펴보자.</p><p>이를 위해서 쓰레드 동기화와 관련된 예제를 사용해서 성능을 비교해보자. 공유 리소스를 관리하기 위해서 간단한 코드를 보자면 아래와 같다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">);</span>
<span class="n">sharedCounter</span><span class="o">++</span><span class="p">;</span><span class="err"> </span><span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">);</span>
</pre></table></code></div></div><p>공유 리소스를 보호하기 위해서 sharedCounter 값을 변경시키는 곳 주변에만 잠금을 수행하면 된다.</p><p>간단하면서 효율적인 코드이긴 하지만 여기에도 단점은 존재한다.</p><p>유지 보수 관점에서 버그를 양산할 가능성이 높아진다. 사용자가 잠금을 얻었다면 반환구문을 실행하기 전에 잠금을 풀어야 한다.</p><p>또한 잠금을 얻은 상황에서 예외가 발생한다면 예외를 받아서 수동으로 잠금을 해제해주어야 한다. C++에서는 위의 두가지 문제점에 좋은 해결책을 제공한다. 잠금을 얻고 풀기 위한 루틴을 클래스로 구현하면 위의 문제가 쉽게 해결이 된다.</p><p>동기화 관련 로직의 다양성을 위해서 Lock 부모 클래스와 구현체인 DerivedMutex로 구성했다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Lock</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">Lock</span><span class="p">(</span><span class="n">pthread_mutex_t</span><span class="o">&amp;</span> <span class="n">lock</span><span class="p">)</span> <span class="p">{};</span>
    <span class="k">virtual</span> <span class="o">~</span><span class="n">Lock</span><span class="p">()</span> <span class="p">{};</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">DerivedMutex</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Lock</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">DerivedMutex</span><span class="p">(</span><span class="n">pthread_mutex_t</span><span class="o">&amp;</span> <span class="n">lock</span><span class="p">)</span>
            <span class="o">:</span> <span class="n">Lock</span><span class="p">(</span><span class="n">lock</span><span class="p">),</span> <span class="n">myLock</span><span class="p">(</span><span class="n">lock</span><span class="p">)</span> <span class="p">{</span><span class="n">acquire</span><span class="p">();}</span>
    <span class="o">~</span><span class="n">DerivedMutex</span><span class="p">()</span> <span class="p">{</span><span class="n">release</span><span class="p">();}</span>

<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">acquire</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">myLock</span><span class="p">);}</span>
    <span class="kt">int</span> <span class="n">release</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">myLock</span><span class="p">);}</span>
    <span class="n">pthread_mutex_t</span><span class="o">&amp;</span> <span class="n">myLock</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>사용 코드는 아래와 같다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">{</span>
    <span class="n">DerivedMutex</span> <span class="n">m</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
    <span class="n">sharedCounter</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p> </p><p>위와 같이 클래스를 사용할 경우 얻어지는 이점은 다음과 같다.</p><ul><li>여러 반환 시점을 포함하고 있는 복잡한 루틴의 유지 보수<li>예외로부터 복구<li>잠금의 다형성<li>로깅의 다형성</ul><p>이제 성능의 차이를 비교해 보자.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1">// 시간 측정</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">50000000</span><span class="p">;</span> <span class="n">i</span> <span class="o">++</span><span class="p">)</span>   
<span class="p">{</span>
    <span class="c1">// 테스트 코드</span>
<span class="p">}</span>
<span class="c1">// 시간 측정 후, 최종 걸린 시간 측정</span>
</pre></table></code></div></div><p>위의 코드로 측정한 결과.</p><p>클래스 없이 간단하게 잠금을 얻고 해제한 버전의 수행 시간은 약 1.6초가 걸린다.</p><p>하지만, 클래스에 상속을 사용한 버전의 경우 약 2.3초가 걸리는 것을 확인했다. 즉, 성능이 약 40% 감소한것을 볼 수 있다. 상속을 이용한 클래스를 사용한 경우, 한줄의 코드에서 다음의 생성자를 호출한다.</p><ul><li>Lock<li>DerivedMutex</ul><p>실제적으로 할일을 모두 마치고 소멸자 호출은 다음과 같다.</p><ul><li>DerivedMutex<li>Lock 현재 상황에서 Lock 클래스는 확장성을 위한 인터페이스만 제공하고 있는 상황이다. 하지만 DerivedMutex 외의 구현체가 없다.</ul><p>이런 상황에서 굳이 Lock 클래스를 사용하지 않고 독립적인 클래스를 작성해서 비교해보자.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">SimpleMutex</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">SimpleMutex</span><span class="p">(</span><span class="n">pthread_mutex_t</span><span class="o">&amp;</span> <span class="n">lock</span><span class="p">)</span> <span class="o">:</span> <span class="n">myLock</span><span class="p">(</span><span class="n">lock</span><span class="p">)</span> <span class="p">{</span><span class="n">acquire</span><span class="p">();}</span>
    <span class="o">~</span><span class="n">SimpleMutex</span><span class="p">(){</span><span class="n">release</span><span class="p">();}</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">acquire</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">myLock</span><span class="p">);}</span>
    <span class="kt">int</span> <span class="n">release</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">myLock</span><span class="p">);}</span>

    <span class="n">pthread_mutex_t</span><span class="o">&amp;</span> <span class="n">myLock</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>상속을 사용하지 않고 DerivedMutex와 동일한 기능을 하는 클래스이다. 사용법 또한 동일하다. 하지만 필요없는 Lock 생성자&amp;소멸자 호출은 발생하지 않는다. 위의 테스트 코드를 통해서 성능을 측정해보면 약 1.7초가 걸리는 것을 확인했다.</p><p>부모 클래스의 생성자와 소멸자에서 하는 일이 아무것도 없지만 불필요한 호출은 성능적으로 불이익이 발생함을 알수 있다.</p><h3 id="합성"><span class="mr-2">합성</span><a href="#합성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>상속과 같이 객체 합성도 객체 생성과 소멸에 관련된 유사한 성능 문제를 가지고 있다. 객체가 생성(소멸)될 때, 해당 객체가 포함한 모든 객체들도 생성(소멸)되어야 한다.</p><p>앞에서 이야기한 Trace 클래스를 보면 다음과 같다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Trace</span> <span class="p">{</span><span class="err"> </span><span class="k">public</span><span class="o">:</span><span class="err"> </span>    <span class="n">Trace</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="err">… </span><span class="k">private</span><span class="o">:</span><span class="err"> </span>    <span class="n">string</span> <span class="n">theFunctionName</span><span class="p">;</span><span class="err"> </span><span class="p">};</span>
</pre></table></code></div></div><p>위의 예제는 Trace 객체가 생성되면 string 하위 객체도 생성된다. 소멸자도 동일하다. 현재 구현에서는 string 객체의 생성 소멸을 조정 할 수는 없다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Trace</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">Trace</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
    <span class="err">… </span><span class="k">private</span><span class="o">:</span><span class="err"> </span>    <span class="n">string</span> <span class="n">theFunctionName</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>위의 예제는 string 객체의 생성과 소멸을 사용자가 조정 가능하다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Trace</span> <span class="p">{</span><span class="err"> </span><span class="k">public</span><span class="o">:</span>
    <span class="n">Trace</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">)</span> <span class="o">:</span> <span class="n">theFunctionName</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="err">…</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">theFunctionName</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="err">… </span><span class="k">private</span><span class="o">:</span><span class="err"> </span>    <span class="n">string</span> <span class="o">*</span><span class="n">theFunctionName</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>또한 위와 같이 부분 초기화를 하고, 실제로 사용할 경우에 string 객체를 생성 혹은 소멸 시킬 수 있다. 위의 세가지 형태는 사용 패턴에 따라서 무엇이 가장 효율적인지는 달라지게 된다. 항상 theFunctionName을 사용한다면 첫번째 형태가, theFunctionName을 종종 사용하게 된다면, 객체를 생성하는것 보다 0을 포인터에 대입하는 것이 훨씬 부담이 적기 때문에 세번째 형태가 효율적이다.</p><h3 id="지연-생성"><span class="mr-2">지연 생성</span><a href="#지연-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>C++ 언어는 변수를 처음으로 사용하기 전까지 생성하지 않아야 한다. 이 변수는 Primitive Type일 수도 있지만, 클래스일 수도 있다.</p><p>우리는 지금까지 클래스의 불필요한 생성자와 소멸자의 호출과 불필요한 함수의 호출이 성능에 어떤 영향을 줄 수 있는지 확인했다. 그렇다면, 당연히 우리는 실제로 사용하기 전까지는 변수의 생성을 지연하는 것이 타당하다는 것을 이해할 것이다.</p><h3 id="중복-생성"><span class="mr-2">중복 생성</span><a href="#중복-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>다음과 같이 string 을 구현한 SuperString이 있다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">SuperString</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">SuperString</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">SuperString</span><span class="p">(</span><span class="k">const</span> <span class="n">SuperString</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">);</span>
    <span class="n">SuperString</span><span class="o">&amp;</span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">SuperString</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">);</span>
    <span class="o">~</span><span class="n">SuperString</span><span class="p">()</span> <span class="p">{</span><span class="k">delete</span> <span class="p">[]</span> <span class="n">str</span><span class="p">;}</span>

<span class="nl">private:</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">inline</span> <span class="n">SuperString</span><span class="o">::</span><span class="n">SuperString</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="o">:</span> <span class="n">str</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">str</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
        <span class="n">strcpy</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">inline</span> <span class="n">SuperString</span><span class="o">::</span><span class="n">SuperString</span><span class="p">(</span><span class="k">const</span> <span class="n">SuperString</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">)</span> <span class="o">:</span> <span class="n">str</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">str</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">str</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">str</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
        <span class="n">strcpy</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">str</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="err"> </span><span class="n">SuperString</span><span class="o">&amp;</span> <span class="n">SuperString</span><span class="o">::</span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">SuperString</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">str</span> <span class="o">!=</span> <span class="n">s</span><span class="p">.</span><span class="n">str</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">delete</span> <span class="p">[]</span> <span class="n">str</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">str</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">str</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">str</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
            <span class="n">strcpy</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">str</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="n">str</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>SuperString을 사용하는 Person 클래스는 아래와 같다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span> <span class="p">}</span>
<span class="nl">private:</span>
    <span class="n">SuperString</span> <span class="n">name</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>위와 같은 경우 Person 클래스의 생성자의 실행을 의사코드로 표현하면 아래와 같다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="n">Person</span><span class="o">::</span><span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">name</span><span class="p">.</span><span class="n">SuperString</span><span class="o">::</span><span class="n">SuperString</span><span class="p">();</span>    <span class="c1">// 생성자: name 멤버를 초기화한다. </span>
    <span class="n">SuperString</span> <span class="n">_tmp</span><span class="p">;</span>                   <span class="c1">// 임시 객체</span>
    <span class="n">_tmp</span><span class="p">.</span><span class="n">SuperString</span><span class="o">::</span><span class="n">SuperString</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>   <span class="c1">// s로부터 SuperString 객체를 생성</span>
    <span class="n">name</span><span class="p">.</span><span class="n">SuperString</span><span class="o">::</span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">_tmp</span><span class="p">);</span>  <span class="c1">// _tmp를 name에 대입한다.</span>
    <span class="n">_tmp</span><span class="p">.</span><span class="n">SuperString</span><span class="o">::~</span><span class="n">SuperString</span><span class="p">();</span>   <span class="c1">// 임시 객체를 위한 소멸자</span>
<span class="p">}</span>
</pre></table></code></div></div><p>버전 1의 실행 의사코드를 보면 불필요한 초기화와 임시객체의 생성 및 소멸 그리고 대입이 수행되고 있다.</p><p>이는 초기화 리스트를 사용하지 않아서 중복된 생성과 불필요한 대입연산이 추가된 경우이다. 이 경우는 아래와 같이 초기화 리스트를 사용해 해결이 된다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="o">:</span> <span class="n">name</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="nl">private:</span>
    <span class="n">SuperString</span> <span class="n">name</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>버전 1과 버전 2의 성능을 비교해보면 버전 1이 약 3.5초 버전 2가 약 1.7초로 약 2배의 성능 차이가 발생함을 알수 있다.</p><h3 id="키-포인트--생성자와-소멸자는-직접-작성한-c-코드-만큼-효율적이여야-하지만-실제적으로-과잉-연산의-형태를-가진-오버헤드를-종종-포함하고-있다"><span class="mr-2">키 포인트- 생성자와 소멸자는 직접 작성한 C 코드 만큼 효율적이여야 하지만, 실제적으로 과잉 연산의 형태를 가진 오버헤드를 종종 포함하고 있다.</span><a href="#키-포인트--생성자와-소멸자는-직접-작성한-c-코드-만큼-효율적이여야-하지만-실제적으로-과잉-연산의-형태를-가진-오버헤드를-종종-포함하고-있다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>객체의 생성(소멸)은 부모와 멤버 객체의 재귀적인 생성(소멸)을 발생시킨다. 복잡한 계층엥서 객체 생성(소멸)의 조합을 조심해야 한다.<li>객체의 생성과 소멸은 CPU 주기를 소모한다. 꼭 필요하지 않으면 객체를 생성하지 말자. 객체는 실제로 사용하기 전까지 생성을 지연하는 것이 좋다.<li>생성자 본문을 들어가기 이전에 객체 멤버를 초기화한다. 이는 초기화 리스트를 사용하여 초기화를 명시적으로 지정할 수 있으며, 이는 임시 객체의 생성과 대입 연산자를 호출하는 오버헤드를 줄일 수 있다.</ul></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >c++</a> <a href="/tags/efficient-c/" class="post-tag no-text-decoration" >Efficient C++</a> <a href="/tags/performance/" class="post-tag no-text-decoration" >Performance</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=EFFICIENT C++_생성자와 소멸자 - Appchemist&amp;url=https://appchemist.github.io/posts/867/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=EFFICIENT C++_생성자와 소멸자 - Appchemist&amp;u=https://appchemist.github.io/posts/867/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://appchemist.github.io/posts/867/&amp;text=EFFICIENT C++_생성자와 소멸자 - Appchemist" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/DDIA-CH6/">DDIA - 파티셔닝</a><li><a href="/posts/DDIA-CH4/">DDIA - 부호화와_발전</a><li><a href="/posts/clean_architecture_ch20/">클린 아키텍처 - 업무 규칙</a><li><a href="/posts/clean_architecture_ch17/">클린 아키텍처 - 경계 선 긋기</a><li><a href="/posts/DDIA-CH1/">DDIA - 신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/clean-architecture/">clean architecture</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/orm/">ORM</a> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/applicationn/">Applicationn</a> <a class="post-tag" href="/tags/data/">Data</a> <a class="post-tag" href="/tags/system/">System</a> <a class="post-tag" href="/tags/efficient-c/">Efficient C++</a> <a class="post-tag" href="/tags/performance/">Performance</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/efficient-ceba19ceab985eab3bc-eab480eba0/"><div class="card-body"> <em class="timeago small" data-ts="1468183508" > 2016-07-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Efficient C++_로깅과 관련된 성능 이야기</h3><div class="text-muted small"><p> 소프트웨어를 유지보수를 하다보면 로깅이 매우 중요하다. 로깅을 통해서 문제 상황 추적 및 프로그램의 실행 흐름을 파악하는데 많은 도움이 된다. 이런 로깅과 관련된 코드는 성능과 관련된 여러가지 문제들을 만나기 쉽다. 로깅과 관련된 성능 최적화의 극단적인 방법은 추적 호출을 #ifdef 블록 안에 내장하여 성능 부하를 제거하는 것이다. #ifdef ...</p></div></div></a></div><div class="card"> <a href="/posts/efficient-ceab080ec8381-ed95a8ec8898/"><div class="card-body"> <em class="timeago small" data-ts="1468331680" > 2016-07-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>EFFICIENT C++_가상 함수</h3><div class="text-muted small"><p> 동적 바인딩 덕분에 프로그래머는 형식 확인을 컴파일러에게 맡기게 되었고 많이 편해졌다. 반대로 동적 바인딩은 성능에 부정적인 영향을 끼칠 수 있다. 가상 함수 기법 만약 가상 함수를 사용하고 싶지 않다면, 직접 형식 확인 코드를 작성하여 동적 바인딩을 흉내를 낼수있다. 다음은 동물원 동물을 클래스로 표현한 것이다. 1 2 3 4 5 6 7 8 c...</p></div></div></a></div><div class="card"> <a href="/posts/efficient-cebb098ed9998eab092-ecb59ceca0/"><div class="card-body"> <em class="timeago small" data-ts="1468523116" > 2016-07-15 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>EFFICIENT C++_반환값 최적화</h3><div class="text-muted small"><p> 앞에서 불필요한 객체의 생성과 소멸을 제거할 때 마다 성능이 좋아지는 것을 보았다. 이번에는 속도를 위해서 컴파일러가 수행하는 Return Value Optimization을 살펴 보겠다. 값으로 반환의 동작 원리 아래는 Complex 클래스로 복소수를 표현하고 있다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 class Comple...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/efficient-ceba19ceab985eab3bc-eab480eba0/" class="btn btn-outline-primary" prompt="Older"><p>Efficient C++_로깅과 관련된 성능 이야기</p></a> <a href="/posts/efficient-ceab080ec8381-ed95a8ec8898/" class="btn btn-outline-primary" prompt="Newer"><p>EFFICIENT C++_가상 함수</p></a></div><script src="https://utteranc.es/client.js" repo="appchemist/appchemist.github.io" issue-term="url" crossorigin="anonymous" async> </script> <script type="text/javascript"> $(function() { const origin = "https://utteranc.es"; const iframe = "iframe.utterances-frame"; const lightTheme = "github-light"; const darkTheme = "github-dark"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } addEventListener("message", (event) => { let theme; /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */ if (event.origin === origin) { /* page initial */ theme = initTheme; } else if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); } else { return; } const message = { type: "set-theme", theme: theme }; const utterances = document.querySelector(iframe).contentWindow; utterances.postMessage(message, origin); }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/appchemist">appchemist</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/clean-architecture/">clean architecture</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/orm/">ORM</a> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/applicationn/">Applicationn</a> <a class="post-tag" href="/tags/data/">Data</a> <a class="post-tag" href="/tags/system/">System</a> <a class="post-tag" href="/tags/efficient-c/">Efficient C++</a> <a class="post-tag" href="/tags/performance/">Performance</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-KEPDM82EY9"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-KEPDM82EY9'); }); </script>
